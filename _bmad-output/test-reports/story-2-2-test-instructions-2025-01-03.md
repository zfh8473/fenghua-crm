# Story 2.2 测试执行指南

**日期：** 2025-01-03  
**Story ID：** 2-2-product-search

---

## 🚀 启动测试环境

### 步骤 1: 启动后端服务

```bash
cd fenghua-backend
npm run start:dev
```

**验证：**
- 后端服务运行在 `http://localhost:3001`
- 检查日志确认服务启动成功

### 步骤 2: 启动前端服务

```bash
cd fenghua-frontend
npm run dev
```

**验证：**
- 前端服务运行在 `http://localhost:5173`
- 浏览器可以访问应用

---

## 🧪 测试清单

### 基础功能测试

#### 1. 搜索页面访问
- [ ] 访问 `http://localhost:5173/products/search`
- [ ] 验证页面正常加载
- [ ] 验证搜索输入框可见
- [ ] 验证类别下拉选择器可见

#### 2. 产品名称搜索
- [ ] 输入产品名称（如"不锈钢"）
- [ ] 验证防抖功能（等待 500ms）
- [ ] 验证搜索结果实时显示
- [ ] 验证关键词高亮显示
- [ ] 验证搜索结果包含完整信息

#### 3. HS编码搜索
- [ ] 输入HS编码（如"7323"）
- [ ] 验证部分匹配功能
- [ ] 验证完全匹配优先显示
- [ ] 验证HS编码高亮显示

#### 4. 类别筛选
- [ ] 选择产品类别
- [ ] 验证筛选结果正确
- [ ] 验证产品按名称排序

#### 5. 多条件组合搜索
- [ ] 同时输入搜索关键词和选择类别
- [ ] 验证组合搜索正常工作

#### 6. 空状态显示
- [ ] 输入不存在的搜索关键词
- [ ] 验证空状态提示显示
- [ ] 验证搜索建议显示

#### 7. 分页功能
- [ ] 执行搜索，确保结果 > 20 条
- [ ] 验证分页组件显示
- [ ] 测试上一页/下一页按钮
- [ ] 测试页码跳转
- [ ] 验证总结果数和当前页信息显示

#### 8. 搜索结果点击跳转
- [ ] 点击搜索结果中的产品
- [ ] 验证跳转到产品管理页面
- [ ] 验证产品详情正确显示

#### 9. 加载状态显示
- [ ] 执行搜索操作
- [ ] 验证加载指示器显示

#### 10. 防抖功能验证
- [ ] 快速连续输入多个字符
- [ ] 使用浏览器 DevTools Network 面板
- [ ] 验证只发送一次请求

---

### 性能测试

#### 11. 搜索响应时间测试
- [ ] 使用浏览器 DevTools Network 面板
- [ ] 记录搜索请求的响应时间
- [ ] 重复测试 10 次
- [ ] 计算平均响应时间
- [ ] 验证是否满足 P95 < 1秒的要求

---

### 边界情况测试

#### 12. 空搜索查询
- [ ] 不输入任何关键词，直接搜索
- [ ] 验证行为正确

#### 13. 超长搜索关键词
- [ ] 输入超长的搜索关键词
- [ ] 验证系统处理正确

#### 14. 特殊字符搜索
- [ ] 输入包含特殊字符的搜索关键词
- [ ] 验证搜索功能正常

---

## 📝 测试结果记录

### 功能测试结果

| 测试场景 | 状态 | 备注 |
|---------|------|------|
| 1. 搜索页面访问 | ⏳ | |
| 2. 产品名称搜索 | ⏳ | |
| 3. HS编码搜索 | ⏳ | |
| 4. 类别筛选 | ⏳ | |
| 5. 多条件组合搜索 | ⏳ | |
| 6. 空状态显示 | ⏳ | |
| 7. 分页功能 | ⏳ | |
| 8. 搜索结果点击跳转 | ⏳ | |
| 9. 加载状态显示 | ⏳ | |
| 10. 防抖功能验证 | ⏳ | |

### 性能测试结果

| 指标 | 要求 | 实际 | 状态 |
|------|------|------|------|
| P95 响应时间 | < 1秒 | ⏳ | |
| P99 响应时间 | < 3秒 | ⏳ | |
| 平均响应时间 | - | ⏳ | |

### 发现的问题

（测试执行后填写）

---

## ✅ 测试完成标准

- [ ] 所有功能测试场景通过
- [ ] 性能指标满足要求（P95 < 1秒）
- [ ] 无严重 bug
- [ ] 用户体验良好

---

**测试指南创建时间：** 2025-01-03




