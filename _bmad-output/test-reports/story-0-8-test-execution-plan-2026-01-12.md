# Story 0-8 回归测试执行计划

**创建日期：** 2026-01-12  
**Story：** 0-8-epic-1-2-regression-testing  
**状态：** in-progress

---

## 📋 测试概述

**测试目标：** 确保 Epic 1 和 Epic 2 在 UI 改造后所有功能正常工作

**测试范围：**
- Epic 1: Stories 1-1 到 1-7（7 个 Stories）
- Epic 2: Story 2-1（1 个 Story）

**测试类型：**
- 功能回归测试
- 视觉回归测试
- 响应式回归测试
- 可访问性回归测试

---

## ✅ 已完成工作

### 自动化检查（已完成）

- ✅ 构建过程：`npm run build` 成功
- ✅ TypeScript 类型检查：通过
- ✅ Linter 检查：通过
- ✅ 组件使用检查：所有页面使用了 Card、Button、Input、Table 组件
- ✅ ARIA 属性检查：错误消息使用了 `role="alert"`，表格使用了 `aria-label`
- ✅ CSS 文件清理：所有旧 CSS 文件已移除
- ✅ 设计 Token 使用：所有页面使用了设计 Token

---

## 📝 待执行测试

### 优先级 1：核心功能测试（必须完成）

#### Task 1: Epic 1 Story 1-1 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 首页导航功能
- [ ] 登出功能
- [ ] 权限控制

**预计时间：** 15 分钟

#### Task 2: Epic 1 Story 1-2 回归测试
**状态：** ⏳ 待测试（部分自动化测试已完成）

**测试重点：**
- [ ] 登录功能（需要测试账号）
- [ ] 错误提示
- [ ] 密码显示/隐藏
- [ ] 路由重定向
- [ ] 加载状态

**预计时间：** 20 分钟

#### Task 3: Epic 1 Story 1-3 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 用户列表显示
- [ ] 创建用户
- [ ] 编辑用户
- [ ] 删除用户
- [ ] 表单验证

**预计时间：** 30 分钟

#### Task 4: Epic 1 Story 1-4 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 角色选择
- [ ] 角色描述显示
- [ ] 表单验证

**预计时间：** 15 分钟

#### Task 5: Epic 2 Story 2-1 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 产品列表显示
- [ ] 产品创建
- [ ] 产品编辑
- [ ] 产品删除
- [ ] 产品筛选
- [ ] 产品分页

**预计时间：** 30 分钟

---

### 优先级 2：管理功能测试（重要）

#### Task 6: Epic 1 Story 1-5 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 系统设置加载
- [ ] 系统设置编辑
- [ ] 错误处理
- [ ] 表单验证

**预计时间：** 20 分钟

#### Task 7: Epic 1 Story 1-6 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 系统健康状态显示
- [ ] 自动刷新功能（需要 Chrome DevTools Network 标签页）
- [ ] 刷新中断测试（需要 Chrome DevTools Memory 标签页）
- [ ] 错误处理

**预计时间：** 25 分钟

#### Task 8: Epic 1 Story 1-7 回归测试
**状态：** ⏳ 待测试

**测试重点：**
- [ ] 系统日志查看
- [ ] 日志筛选和分页
- [ ] 错误日志查看
- [ ] 审计日志查看
- [ ] 备份状态查看
- [ ] 数据恢复操作

**预计时间：** 40 分钟

---

## 🛠️ 测试环境准备

### 前置条件

1. **前端应用运行：**
   ```bash
   cd fenghua-frontend
   npm run dev
   ```
   - 确认应用运行在 `http://localhost:3005`

2. **后端 API 运行：**
   - 确认后端 API 正常运行
   - 确认数据库连接正常

3. **测试账号准备：**
   - 管理员账号：需要可以访问所有功能
   - 普通用户账号：用于权限控制测试

4. **测试工具：**
   - Chrome 浏览器（推荐）
   - Chrome DevTools（Network、Memory、Responsive Design Mode）

---

## 📊 测试执行顺序

### 阶段 1：基础功能测试（1-2 小时）

1. **Story 1-1：** 首页导航和登出功能
2. **Story 1-2：** 登录功能（需要测试账号）

**目标：** 确保基础功能正常，可以继续后续测试

### 阶段 2：核心功能测试（2-3 小时）

3. **Story 1-3：** 用户账户管理
4. **Story 1-4：** 角色管理系统
5. **Story 2-1：** 产品创建和管理

**目标：** 确保核心业务功能正常

### 阶段 3：管理功能测试（1-2 小时）

6. **Story 1-5：** 系统设置管理
7. **Story 1-6：** 系统监控和日志
8. **Story 1-7：** 数据备份和恢复

**目标：** 确保管理功能正常

---

## 📝 测试记录模板

### 测试用例记录格式

```markdown
#### [Story ID] [功能名称] 测试

**测试时间：** YYYY-MM-DD HH:MM
**测试人：** [姓名]
**测试环境：** [浏览器/设备]

**测试步骤：**
1. [步骤 1]
2. [步骤 2]
3. [步骤 3]

**预期结果：**
- [预期 1]
- [预期 2]

**实际结果：**
- [实际 1]
- [实际 2]

**测试结果：** ✅ 通过 / ❌ 失败 / ⚠️ 部分通过

**问题记录：**
- [问题描述]（如果有）
- [问题优先级]：Critical / High / Medium / Low
```

---

## 🔍 测试检查清单

### 功能测试检查清单

- [ ] 所有核心功能正常工作
- [ ] 表单提交和验证正常
- [ ] 数据加载和显示正常
- [ ] 错误处理正常
- [ ] 权限控制正常

### 视觉测试检查清单

- [ ] 所有页面使用设计 Token
- [ ] 所有页面使用核心组件（Card、Button、Input、Table）
- [ ] 深色模式显示正常
- [ ] 颜色对比度符合 WCAG 标准

### 响应式测试检查清单

- [ ] 移动端布局正常（375px）
- [ ] 平板布局正常（768px）
- [ ] 桌面布局正常（1920px）
- [ ] 表格横向滚动正常（移动端）

### 可访问性测试检查清单

- [ ] 所有表单标签正确关联
- [ ] 错误消息有 `role="alert"` 属性
- [ ] 表格有 `aria-label` 属性
- [ ] 键盘导航正常（Tab 键）
- [ ] 所有按钮可以通过键盘激活

---

## 📋 问题跟踪

### 问题分类

- **Critical：** 阻塞功能，必须立即修复
- **High：** 重要功能问题，应尽快修复
- **Medium：** 次要功能问题，可以稍后修复
- **Low：** 优化建议，可以记录为技术债务

### 问题记录格式

```markdown
### [问题 ID] [问题标题]

**发现时间：** YYYY-MM-DD
**发现人：** [姓名]
**Story：** [Story ID]
**优先级：** Critical / High / Medium / Low

**问题描述：**
[详细描述问题]

**复现步骤：**
1. [步骤 1]
2. [步骤 2]

**预期行为：**
[预期行为]

**实际行为：**
[实际行为]

**截图/日志：**
[如果有]

**修复建议：**
[如果有]
```

---

## 📊 测试进度跟踪

### 总体进度

- **总测试用例：** 待统计
- **已完成：** 0 / 待统计
- **进行中：** 0
- **待开始：** 8 个 Tasks

### 各 Story 进度

| Story ID | Story 名称 | 状态 | 完成度 |
|----------|-----------|------|--------|
| 1-1 | Twenty CRM 初始部署 | ⏳ 待测试 | 0% |
| 1-2 | 用户认证系统 | ⏳ 待测试 | 20% (自动化检查完成) |
| 1-3 | 用户账户管理 | ⏳ 待测试 | 0% |
| 1-4 | 角色管理系统 | ⏳ 待测试 | 0% |
| 1-5 | 系统设置管理 | ⏳ 待测试 | 0% |
| 1-6 | 系统监控和日志 | ⏳ 待测试 | 0% |
| 1-7 | 数据备份和恢复 | ⏳ 待测试 | 0% |
| 2-1 | 产品创建和管理 | ⏳ 待测试 | 0% |

---

## 🎯 下一步行动

### 立即行动

1. **准备测试环境：**
   - 启动前端应用（`npm run dev`）
   - 确认后端 API 运行正常
   - 准备测试账号

2. **开始阶段 1 测试：**
   - Story 1-1：首页导航和登出功能
   - Story 1-2：登录功能

3. **记录测试结果：**
   - 使用测试记录模板记录每个测试用例
   - 发现问题立即记录到问题跟踪列表

### 本周目标

- 完成阶段 1 和阶段 2 的所有测试（Story 1-1 到 2-1）
- 记录所有发现的问题
- 更新测试报告

---

## 📝 测试报告更新

**测试报告位置：** `_bmad-output/test-reports/regression-test-story-0-8-2025-12-26.md`

**更新频率：** 每完成一个 Story 的测试后更新

**更新内容：**
- 测试结果汇总
- 详细测试结果
- 发现的问题列表
- 测试进度

---

**计划创建时间：** 2026-01-12  
**预计完成时间：** 待定（取决于测试执行速度）
